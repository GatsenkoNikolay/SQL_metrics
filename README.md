# **Проект SQL Metrics**

В данном проекте я работаю с результатом А/B теста. Необходимо в одном запросе выгрузить следующую информацию пользователей по группам:
<li>ARPU</li>
<li>ARPAU</li>
<li>CR в покупку</li>
<li>СR активного пользователя в покупку</li>
<li>CR пользователя из активности по математике (subject = ’math’) в покупку курса по математике</li>
</ul>
</br>

Активным считается пользователь, за все время решивший больше 10 задач правильно в любых дисциплинах.</br>
Активным по математике считается пользователь, за все время решивший 2 или больше задач правильно по математике.
</br>
</br>

**Структура данных:**  

Таблица ***peas:***
| Название атрибута | Тип атрибута | Смысловое значение |
|--------------------|--------------|---------------------|
| st_id             | int          | ID ученика          |
| timest            | timestamp    | Время решения карточки |
| correct           | bool         | Корректность решения |
| subject           | text         | Дисциплина, в которой находится горошина |

Таблица ***studs:***
| Название атрибута | Тип атрибута | Смысловое значение                      |
|--------------------|--------------|-----------------------------------------|
| st_id             | int          | ID ученика                              |
| test_grp          | text         | Метка ученика в данном эксперименте     |

Таблица ***final_project_check:***
| Название атрибута | Тип атрибута | Смысловое значение                       |
|--------------------|--------------|------------------------------------------|
| st_id             | int          | ID ученика                               |
| sale_time         | timestamp    | Время покупки                            |
| money             | int          | Цена, по которой приобрели данный курс   |
| subject           | text         | Дисциплина                               |

<hr>

**Реализация проекта:**  
В работе ипользовал Redash, PostgreSQL. Отвечал на вопросы при помощи CTE.
